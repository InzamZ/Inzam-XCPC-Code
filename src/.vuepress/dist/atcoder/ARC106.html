<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AtCoder Regular Contest 106 | InzamZ&#39;s XCPC Solution</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Many Solution">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.58defd6d.css" as="style"><link rel="preload" href="/assets/js/app.ed8a5a7f.js" as="script"><link rel="preload" href="/assets/js/2.43c3aebb.js" as="script"><link rel="preload" href="/assets/js/13.5d4ef0c2.js" as="script"><link rel="prefetch" href="/assets/js/10.3d25f93a.js"><link rel="prefetch" href="/assets/js/11.88dfb627.js"><link rel="prefetch" href="/assets/js/12.ebcffd16.js"><link rel="prefetch" href="/assets/js/14.ba49f484.js"><link rel="prefetch" href="/assets/js/15.ac7ae8e0.js"><link rel="prefetch" href="/assets/js/16.85e3bc16.js"><link rel="prefetch" href="/assets/js/17.297a2490.js"><link rel="prefetch" href="/assets/js/18.0e9a8537.js"><link rel="prefetch" href="/assets/js/19.b9c2c622.js"><link rel="prefetch" href="/assets/js/20.93cd8097.js"><link rel="prefetch" href="/assets/js/21.62d67e32.js"><link rel="prefetch" href="/assets/js/22.b31d4a22.js"><link rel="prefetch" href="/assets/js/23.6ed445f7.js"><link rel="prefetch" href="/assets/js/24.886bbe21.js"><link rel="prefetch" href="/assets/js/25.eb51fa97.js"><link rel="prefetch" href="/assets/js/26.c0e2646a.js"><link rel="prefetch" href="/assets/js/27.0f04775f.js"><link rel="prefetch" href="/assets/js/28.c502bdaf.js"><link rel="prefetch" href="/assets/js/29.01b00513.js"><link rel="prefetch" href="/assets/js/3.a3110ead.js"><link rel="prefetch" href="/assets/js/30.66cec1d1.js"><link rel="prefetch" href="/assets/js/31.7657de49.js"><link rel="prefetch" href="/assets/js/4.cbc4a546.js"><link rel="prefetch" href="/assets/js/5.cc18cae1.js"><link rel="prefetch" href="/assets/js/6.0b854729.js"><link rel="prefetch" href="/assets/js/7.bcb76d5b.js"><link rel="prefetch" href="/assets/js/8.5404cab2.js"><link rel="prefetch" href="/assets/js/9.a17ece47.js">
    <link rel="stylesheet" href="/assets/css/0.styles.58defd6d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">InzamZ's XCPC Solution</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/atcoder/" class="nav-link router-link-active">
  Atcoder
</a></div><div class="nav-item"><a href="/codeforces/" class="nav-link">
  Codeforces
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/atcoder/" class="nav-link router-link-active">
  Atcoder
</a></div><div class="nav-item"><a href="/codeforces/" class="nav-link">
  Codeforces
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Atcoder</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/atcoder/" aria-current="page" class="sidebar-link">Atcoder</a></li><li><a href="/atcoder/ABC182.html" class="sidebar-link">Atcoder Beginner Contect 182</a></li><li><a href="/atcoder/ABC188.html" class="sidebar-link">AtCoder Beginner Contest 188</a></li><li><a href="/atcoder/ABC189.html" class="sidebar-link">AtCoder Beginner Contest 189</a></li><li><a href="/atcoder/ARC106.html" aria-current="page" class="active sidebar-link">AtCoder Regular Contest 106</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/atcoder/ARC106.html#problem-a-106" class="sidebar-link">Problem A-106</a></li><li class="sidebar-sub-header"><a href="/atcoder/ARC106.html#problem-b-value" class="sidebar-link">Problem B-Value</a></li><li class="sidebar-sub-header"><a href="/atcoder/ARC106.html#problem-c-solution" class="sidebar-link">Problem C-Solution</a></li><li class="sidebar-sub-header"><a href="/atcoder/ARC106.html#problem-d-powers" class="sidebar-link">Problem D-Powers</a></li></ul></li><li><a href="/atcoder/ARC116.html" class="sidebar-link">AtCoder Regular Contest 116</a></li><li><a href="/atcoder/EducationDPContest.html" class="sidebar-link">Atcoder Education DP Contest</a></li><li><a href="/atcoder/keyence2021.html" class="sidebar-link">KEYENCE Programming Contest 2021</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="problem-a-106"><a href="#problem-a-106" class="header-anchor">#</a> Problem A-106</h2> <h3 id="题目大意"><a href="#题目大意" class="header-anchor">#</a> 题目大意</h3> <p>给定数N，找到两个数A, B, 使得 3<sup>A</sup> + 5<sup>B</sup> = N .</p> <ul><li>1 ≤ N ≤ 10<sup>18</sup></li> <li>All values in input are integers.</li></ul> <h3 id="solution-code"><a href="#solution-code" class="header-anchor">#</a> Solution Code</h3> <p>打表, 数据范围小, longlong算好 3 , 5 的 n 次方.每次枚举和即可. 当和大于 N 时,退出这一层循环.</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdio&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">unsigned</span> <span class="token keyword">long</span> <span class="token keyword">long</span> llint<span class="token punctuation">;</span>

llint thr<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span>fiv<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	llint N<span class="token punctuation">,</span>n<span class="token punctuation">;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%lld&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>n<span class="token operator">&lt;</span><span class="token number">1e19</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		thr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>n<span class="token punctuation">;</span>
		n<span class="token operator">=</span>n<span class="token operator">*</span><span class="token function">llint</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>n<span class="token operator">&lt;</span><span class="token number">1e19</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		fiv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>n<span class="token punctuation">;</span>
		n<span class="token operator">=</span>n<span class="token operator">*</span><span class="token function">llint</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>thr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&gt;</span>N<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>thr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span>fiv<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span>N<span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d\n&quot;</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>thr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span>fiv<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&gt;</span>N<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;-1\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> 
</code></pre></div><h2 id="problem-b-value"><a href="#problem-b-value" class="header-anchor">#</a> Problem B-Value</h2> <h3 id="题目大意-2"><a href="#题目大意-2" class="header-anchor">#</a> 题目大意</h3> <p>​		给定一个无环图，每次可以选择一条边使其连接的节点均减1或者加1，给出每个节点的初始值和目标值问是否可以达到目标值？</p> <h3 id="_75-解法"><a href="#_75-解法" class="header-anchor">#</a> 75%解法？</h3> <p>​		任选一个节点为起点，dfs这个节点所在的图。一开始想的是只要算出sum ( a<sub>i</sub> - b<sub>i</sub> ) 判断奇偶即可？偶数可以。忽略了操作分正负，合为偶可能到最后两个节点会导致一个要减一个要加。然而正解毕竟包含在这种情况中，所以AC 36/48</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">//75%AC code</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
		ll cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token comment">//record sum of (b-a). once cnt is odd ,ans will never be YES</span>
		
		<span class="token comment">//dfs an unvisited node's tree;</span>
		<span class="token comment">//by the way, calculate the value of sum of (b-a)</span>
		q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>mark<span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">int</span> node<span class="token punctuation">;</span>
			node<span class="token operator">=</span>q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			cnt<span class="token operator">+=</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token operator">-</span>a<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it<span class="token operator">=</span>u<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">!=</span>u<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token keyword">int</span> m<span class="token operator">=</span><span class="token operator">*</span>it<span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
				<span class="token punctuation">{</span>
					vis<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token operator">=</span>mark<span class="token punctuation">;</span>
					q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">//end of one time of dfs</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>cnt<span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;No\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		mark<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Yes\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="思考与修改"><a href="#思考与修改" class="header-anchor">#</a> 思考与修改</h3> <p>​		WA数据点分布广，不是被卡大数据，因此找一下遗漏。我们把图退化成两个节点上面出现的问题就显然了。我们放到三个节点，发现如果父节点和子节点变换方向相同（同加或同减）可以抵消一部分，所以我们可以计算这种变化的和，每次用上一层的结果减去下一层的变化量，最后判断是否为0就好了。</p> <h3 id="solution-code-2"><a href="#solution-code-2" class="header-anchor">#</a> Solution Code</h3> <p><s>请忽略这头文件</s></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">A_Wei</span> <span class="token expression"><span class="token keyword">using</span> <span class="token keyword">namespace</span> </span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">si_ne</span> <span class="token expression">std </span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdio&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;queue&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
A_Wei si_ne<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">200050</span><span class="token punctuation">;</span>

vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span>u<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>
queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span>q<span class="token punctuation">;</span>

ll a<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">,</span>b<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> vis<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">int</span> N<span class="token punctuation">,</span>M<span class="token punctuation">;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">,</span><span class="token operator">&amp;</span>M<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span> <span class="token punctuation">(</span><span class="token string">&quot;%lld&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span> <span class="token punctuation">(</span><span class="token string">&quot;%lld&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>M<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">int</span> v1<span class="token punctuation">,</span>v2<span class="token punctuation">;</span>
		<span class="token function">scanf</span> <span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>v1<span class="token punctuation">,</span><span class="token operator">&amp;</span>v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
		u<span class="token punctuation">[</span>v1<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
		u<span class="token punctuation">[</span>v2<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
		ll cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token comment">//record sum of (b-a). only when cnt is 0 ,ans is YES</span>
		<span class="token comment">//result of last level should minus the values of this level</span>

		<span class="token comment">//dfs an unvisited node's tree;</span>
		<span class="token comment">//by the way, calculate the value of sum of (b-a)</span>
		q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">int</span> node<span class="token punctuation">,</span>markt<span class="token punctuation">;</span>
			node<span class="token operator">=</span>q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			markt<span class="token operator">=</span>vis<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>markt<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> cnt<span class="token operator">+=</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token operator">-</span>a<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">else</span> cnt<span class="token operator">-=</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token operator">-</span>b<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			<span class="token keyword">for</span> <span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it<span class="token operator">=</span>u<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">!=</span>u<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token keyword">int</span> m<span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>markt<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> vis<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token operator">=</span>markt<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
					<span class="token keyword">else</span> vis<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token operator">=</span>markt<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
					q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		
		<span class="token comment">//end of one time of dfs</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>cnt<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;No\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Yes\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	
 <span class="token punctuation">}</span> 
</code></pre></div><h2 id="problem-c-solution"><a href="#problem-c-solution" class="header-anchor">#</a> Problem C-Solution</h2> <h3 id="题目大意-分析"><a href="#题目大意-分析" class="header-anchor">#</a> 题目大意 &amp; 分析</h3> <p>​		问题 P 是 最多区间调度问题 , 其中 Takahashi 和 Aoki 分别给出解 , 两人输出解的差定义为 M.输入区间个数 N 和 M, 要求构造出任意一个满足条件的 N 个区间. 无解输出 -1.</p> <p>​		其中 Takahashi 给出的就是正解, 不知道这个这道题就做不了了. 大致分为以下情况 :</p> <ul><li><p>M &lt; 0 , 正解给出的数是最大的, 无解</p></li> <li><p>M = N , 意味着 Aoki 的解小于等于0, 无解</p></li> <li><p>M = N - 1 ,只有一种可能, Takahashi 输出 N , 而 Aoki 输出 1. Aoki输出了 1 , 说明有一个区间包含了全部区间, 那么 Tasahashi 不可能输出 N 了 , 无解 ( 有例外 )</p></li> <li><p>M = 0 , 这样的话两组解相同, 那所有区间不重叠即可 . 当 N = 1 时 ,就是上面情况的例外了.</p></li> <li><p>0 &lt; M &lt; N + 1 , 构造这样 N 个区间 , 我们只要想办法把差部分解决即可, 构造方法如下.</p> <p>在一个大区间中放入 M+1 个不重叠小区间, 再构造 N - M - 2 个不重叠的区间即可.</p> <p>在大区间中, Aoki 只能选择 1 个区间, 而 Tasahashi 会优先选择里面的 M+1 个小区间, 解的差构造完成.</p> <h3 id="solution-code-3"><a href="#solution-code-3" class="header-anchor">#</a> Solution Code</h3> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
        <span class="token keyword">int</span> N<span class="token punctuation">,</span>M<span class="token punctuation">;</span>
        <span class="token function">scanf</span> <span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">,</span><span class="token operator">&amp;</span>M<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>M<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;-1\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>M<span class="token operator">==</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>N<span class="token operator">&gt;=</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;-1\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>M<span class="token operator">==</span>N<span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;-1\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>M<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d\n&quot;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token operator">==</span>M<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d\n&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d\n&quot;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>   
</code></pre></div></li></ul> <h2 id="problem-d-powers"><a href="#problem-d-powers" class="header-anchor">#</a> Problem D-Powers</h2> <p>菜鸡加载中...</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/27/2022, 6:43:34 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/atcoder/ABC189.html" class="prev">
        AtCoder Beginner Contest 189
      </a></span> <span class="next"><a href="/atcoder/ARC116.html">
        AtCoder Regular Contest 116
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ed8a5a7f.js" defer></script><script src="/assets/js/2.43c3aebb.js" defer></script><script src="/assets/js/13.5d4ef0c2.js" defer></script>
  </body>
</html>
